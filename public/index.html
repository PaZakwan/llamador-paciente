<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>LLamador de Personas</title>

    <link rel="stylesheet" href="css/bootstrap.min.css" />
    <link rel="stylesheet" href="css/style.css" />
  </head>

  <body class="container-fluid">
    <h1 class="display-2 fw-bold my-5">LLamador de Personas</h1>

    <div class="row justify-content-center">
      <!-- <div class="col-12 text-center my-3">
        <h1>Index</h1>
      </div> -->
      <div class="col-12 col-md-6 form-group text-center">
        <form id="form" action="" class="was-validated">
          <select id="area-select" class="form-select form-select-lg my-2" name="area" required>
            <option value="" selected>- Seleccione un Area -</option>
            <option value="CISI">CISI</option>
            <option value="La Bibiana">La Bibiana</option>
          </select>
          <!-- Muestra Personas que se Llaman -->
          <button class="btn btn-info btn-lg m-2 text-light" onclick="toPublico(event)">
            Pantalla Publica
          </button>
          <!-- Agregar Persona a la Espera -->
          <!-- <button class="btn btn-info btn-lg m-2 text-light" onclick="toAgregarPersona(event)">
            Mostrador
          </button> -->
          <hr class="w-100 border border-warning my-3" />
          <input
            id="boxInput"
            class="form-control my-2"
            autocomplete="off"
            type="text"
            name="consultorio"
            placeholder="Consultorio"
            autofocus
            required
          />
          <button class="btn btn-warning btn-lg m-2" onclick="toBox(event)">
            Ingresar al Consultorio
          </button>
        </form>
      </div>
    </div>

    <div style="height: 46px"></div>
    <footer class="fixed-bottom row align-items-center bg-info py-1 px-5">
      <p class="small col-6 align-self-center text-start mb-0">
        <a
          href="mailto:jpazvillar88@hotmail.com?Subject=Sistema%20de%20Salud%20Moreno"
          style="text-decoration: inherit; color: inherit"
          onMouseOver="this.style.color='var(--bs-indigo)'"
          onMouseOut="this.style.color='inherit'"
        >
          Juan Paz</a
        >
        <a
          href="https://www.gnu.org/licenses/licenses.html#AGPL"
          target="_blank"
          rel="AGPL License"
          style="text-decoration: inherit; color: inherit"
          onMouseOver="this.style.color='var(--bs-indigo)'"
          onMouseOut="this.style.color='inherit'"
          class="text-wrap"
        >
          &nbsp;<span style="display: inline-block; transform: rotateY(180deg)">&copy;</span>
          AGPL</a
        >
      </p>
      <p class="small col-6 align-self-center text-end mb-0">
        <strong class="text-wrap">Secretaria de Salud</strong>
        ~
        <a
          href="https://moreno.gob.ar"
          target="_blank"
          rel="Moreno"
          style="text-decoration: inherit; color: inherit"
          onMouseOver="this.style.color='var(--bs-indigo)'"
          onMouseOut="this.style.color='inherit'"
        >
          <strong>Moreno</strong>
        </a>
      </p>
    </footer>

    <script src="js/libs/bootstrap.bundle.min.js"></script>
    <script>
      document.getElementById("boxInput").addEventListener("keydown", (event) => {
        if (event.key === "Enter") {
          toBox(event);
        }
      });
      const toPublico = (event) => {
        let area = document.getElementById("area-select").value;
        if (!area) {
          return alert("Seleccione un Area.");
        }
        event.preventDefault();
        window.location.href = `publico.html?area=${area}`;
      };
      const toBox = (event) => {
        let area = document.getElementById("area-select").value;
        let boxInput = document.getElementById("boxInput").value;
        if (!area) {
          return alert("Seleccione un Area.");
        }
        if (!boxInput) {
          return alert("Seleccione un Consultorio.");
        }
        event.preventDefault();
        window.location.href = `box.html?area=${area}&boxName=${boxInput}`;
      };
      const toAgregarPersona = (event) => {
        let area = document.getElementById("area-select").value;
        if (!area) {
          return alert("Seleccione un Area.");
        }
        event.preventDefault();
        window.location.href = `agregar-persona.html?area=${area}`;
      };
    </script>
  </body>
</html>
